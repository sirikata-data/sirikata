diff -ur ./src/video/cocoa/SDL_cocoawindow.m /tmp/SDL-1.3.0-4460/src/video/cocoa/SDL_cocoawindow.m
--- ./src/video/cocoa/SDL_cocoawindow.m	2009-03-16 20:44:51.000000000 -0700
+++ /tmp/SDL-1.3.0-4460/src/video/cocoa/SDL_cocoawindow.m	2009-04-24 00:36:37.000000000 -0700
@@ -22,6 +22,11 @@
 #include "SDL_config.h"
 
 #include "SDL_syswm.h"
+struct SDL_XSysWMinfo                                                            
+{                                                                               
+    SDL_version version;                                                        
+    int data;                                                                   
+}; 
 #include "../SDL_sysvideo.h"
 #include "../../events/SDL_keyboard_c.h"
 #include "../../events/SDL_mouse_c.h"
@@ -601,12 +606,15 @@
 }
 
 SDL_bool
-Cocoa_GetWindowWMInfo(_THIS, SDL_Window * window, SDL_SysWMinfo * info)
+Cocoa_GetWindowWMInfo(_THIS, SDL_Window * window, SDL_SysWMinfo * ainfo)
 {
+    struct SDL_XSysWMinfo * info=(struct SDL_XSysWMinfo*)ainfo;
+
     NSWindow *nswindow = ((SDL_WindowData *) window->driverdata)->window;
 
     if (info->version.major <= SDL_MAJOR_VERSION) {
-        //info->window = nswindow;
+        NSView *view=[nswindow contentView];
+        info->data = (int)view;
         return SDL_TRUE;
     } else {
         SDL_SetError("Application not compiled with SDL %d.%d\n",
